"use strict";angular.module("VisaCreatorApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/top.html",controller:"TopCtrl"}).when("/main",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/japan-visa-form-step1",{templateUrl:"views/japan-visa-form-step1.html",controller:"japanVisaFormCtrlStep1"}).when("/japan-visa-form-step2",{templateUrl:"views/japan-visa-form-step2.html",controller:"japanVisaFormCtrlStep2"}).when("/japan-visa-form-step3",{templateUrl:"views/japan-visa-form-step3.html",controller:"japanVisaFormCtrlStep3"}).otherwise({redirectTo:"/"})}]),angular.module("VisaCreatorApp").controller("japanVisaFormCtrlStep1",["$scope","japanVisaService","$location",function(a,b,c){a.toStep2=function(a){b.saveStep1(a),c.path("/japan-visa-form-step2")}}]).controller("japanVisaFormCtrlStep2",["$scope","japanVisaService","$location",function(a,b,c){a.toStep3=function(a){b.saveStep2(a),c.path("/japan-visa-form-step3")}}]).controller("japanVisaFormCtrlStep3",["$scope","japanVisaService","$location",function(a,b){a.downloadJapanVisaForm=function(a){var c=b.saveStep3(a);c.then(function(a){console.log(a.url);var b=document.createElement("a");b.href=a.url,b.setAttribute("download","japan_visa_form.pdf"),console.log(b),b.click()}).catch(function(){console.log("error to submit form")})}}]).controller("TopCtrl",["$scope",function(){}]).controller("MainCtrl",["$scope","japanVisaService",function(a){a.id=1,a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("VisaCreatorApp").factory("japanVisaService",["$resource","$location",function(a){var b={},c=function(){return a("/api/japan/form").save(b).$promise};return{saveStep1:function(a){for(var c in a)"gender"===c?"male"===a[c]?b.genderMale="Y":"female"===a[c]&&(b.genderFemale="Y"):"martialStatus"===c?"single"===a[c]?b.martialStatusSingle="Y":"married"===a[c]?b.martialStatusMarried="Y":"widowed"===a[c]?b.martialStatusWidowed="Y":"divorced"===a[c]&&(b.martialStatusDivorced="Y"):"passportType"===c?"diplomatic"===a[c]?b.passportTypeDiplomatic="Y":"official"===a[c]?b.passportTypeOfficial="Y":"ordinary"===a[c]?b.passportTypeOrdinary="Y":"other"===a[c]&&(b.passportTypeOther="Y"):"crime"===c?"yes"===a[c]?b.crimeYes="Y":"no"===a[c]&&(b.crimeNo="Y"):"sentenced"===c?"yes"===a[c]?b.sentencedYes="Y":"no"===a[c]&&(b.sentencedNo="Y"):"overstay"===c?"yes"===a[c]?b.overstayYes="Y":"no"===a[c]&&(b.overstayNo="Y"):"drug"===c?"yes"===a[c]?b.drugYes="Y":"no"===a[c]&&(b.drugNo="Y"):"prostitution"===c?"yes"===a[c]?b.prostitutionYes="Y":"no"===a[c]&&(b.prostitutionNo="Y"):"trafficking"===c?"yes"===a[c]?b.traffickingYes="Y":"no"===a[c]&&(b.traffickingNo="Y"):b[c]=a[c];console.log(b)},saveStep2:function(a){for(var c in a)b[c]=a[c];console.log(b)},saveStep3:function(a){for(var d in a)"guarantorGender"===d?"male"===a[d]?b.guarantorGenderMale="Y":"female"===a[d]&&(b.guarantorGenderFemale="Y"):"inviterGender"===d?"male"===a[d]?b.inviterGenderMale="Y":"female"===a[d]&&(b.inviterGenderFemale="Y"):b[d]=a[d];return console.log(b),c()}}}]);