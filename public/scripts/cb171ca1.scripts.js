"use strict";angular.module("VisaCreatorApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/top.html",controller:"TopCtrl"}).when("/main",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/japan-visa-form-step1",{templateUrl:"views/japan-visa-form-step1.html",controller:"japanVisaFormCtrlStep1"}).when("/japan-visa-form-step2",{templateUrl:"views/japan-visa-form-step2.html",controller:"japanVisaFormCtrlStep2"}).when("/japan-visa-form-step3",{templateUrl:"views/japan-visa-form-step3.html",controller:"japanVisaFormCtrlStep3"}).otherwise({redirectTo:"/"})}]),angular.module("VisaCreatorApp").controller("japanVisaFormCtrlStep1",["$scope","japanVisaService","$location",function(a,b,c){a.toStep2=function(a){b.saveStep1(a),c.path("/japan-visa-form-step2")}}]).controller("japanVisaFormCtrlStep2",["$scope","japanVisaService","$location",function(a,b,c){a.toStep3=function(a){b.saveStep2(a),c.path("/japan-visa-form-step3")}}]).controller("japanVisaFormCtrlStep3",["$scope","japanVisaService","$location",function(a,b){a.downloadJapanVisaForm=function(a){var c=b.saveStep3(a);c.then(function(a){console.log(a.url);var b=document.createElement("a");b.href=a.url,b.download="japan_visa_form.pdf",console.log(b),b.click()}).catch(function(){console.log("error to submit form")})}}]).controller("TopCtrl",["$scope",function(){}]).controller("MainCtrl",["$scope","japanVisaService",function(a){a.id=1,a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("VisaCreatorApp").factory("japanVisaService",["$resource","$location",function(a){var b={},c=function(){return a("/api/japan/form").save(b).$promise};return{saveStep1:function(a){for(var c in a)"gender"===c?"male"===a[c]?b.genderMale="X":"female"===a[c]&&(b.genderFemale="X"):"martialStatus"===c?"single"===a[c]?b.martialStatusSingle="X":"married"===a[c]?b.martialStatusMarried="X":"widowed"===a[c]?b.martialStatusWidowed="X":"divorced"===a[c]&&(b.martialStatusDivorced="X"):"passportType"===c?"diplomatic"===a[c]?b.passportTypeDiplomatic="X":"official"===a[c]?b.passportTypeOfficial="X":"ordinary"===a[c]?b.passportTypeOrdinary="X":"other"===a[c]&&(b.passportTypeOther="X"):"crime"===c?"yes"===a[c]?b.crimeYes="X":"no"===a[c]&&(b.crimeNo="X"):"sentenced"===c?"yes"===a[c]?b.sentencedYes="X":"no"===a[c]&&(b.sentencedNo="X"):"overstay"===c?"yes"===a[c]?b.overstayYes="X":"no"===a[c]&&(b.overstayNo="X"):"drug"===c?"yes"===a[c]?b.drugYes="X":"no"===a[c]&&(b.drugNo="X"):"prostitution"===c?"yes"===a[c]?b.prostitutionYes="X":"no"===a[c]&&(b.prostitutionNo="X"):"trafficking"===c?"yes"===a[c]?b.traffickingYes="X":"no"===a[c]&&(b.traffickingNo="X"):b[c]=a[c];console.log(b)},saveStep2:function(a){for(var c in a)b[c]=a[c];console.log(b)},saveStep3:function(a){for(var d in a)"guarantorGender"===d?"male"===a[d]?b.guarantorGenderMale="X":"female"===a[d]&&(b.guarantorGenderFemale="X"):"inviterGender"===d?"male"===a[d]?b.inviterGenderMale="X":"female"===a[d]&&(b.inviterGenderFemale="X"):b[d]=a[d];return console.log(b),c()}}}]);